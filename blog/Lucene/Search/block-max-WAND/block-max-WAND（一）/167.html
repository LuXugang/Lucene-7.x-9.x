<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>block-max-WANDï¼ˆä¸€ï¼‰-html</title><link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color: #ffffff; --text-color: #333333; --select-text-bg-color: #B5D6FC; --select-text-font-color: auto; --monospace: "Lucida Console",Consolas,"Courier",monospace; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857143; overflow-x: hidden; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; tab-size: 4; background-position: inherit inherit; background-repeat: inherit inherit; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 40px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) { 
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right-width: 0px; background-color: inherit; }
.CodeMirror-linenumber { }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; position: relative !important; background-position: inherit inherit; background-repeat: inherit inherit; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; background-position: 0px 0px; background-repeat: initial initial; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print { 
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background-color: rgb(204, 204, 204); display: block; overflow-x: hidden; background-position: initial initial; background-repeat: initial initial; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) { 
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background-color: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; background-position: initial initial; background-repeat: initial initial; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; }
a.md-print-anchor { white-space: pre !important; border: none !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; text-shadow: initial !important; background-position: 0px 0px !important; background-repeat: initial initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.html-for-mac .inline-math-svg .MathJax_SVG { vertical-align: 0.2px; }
.md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none; }
.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; margin-top: 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom-width: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
svg[id^="mermaidChart"] { line-height: 1em; }
mark { background-color: rgb(255, 255, 0); color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial; }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
mark .md-meta { color: rgb(0, 0, 0); opacity: 0.3 !important; }
@media print { 
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
  .typora-export h1::after, .typora-export h2::after, .typora-export h3::after, .typora-export h4::after, .typora-export h5::after, .typora-export h6::after { content: ""; display: block; height: 100px; margin-bottom: -100px; }
}


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right-width: 1px; border-right-style: solid; border-right-color: rgb(221, 221, 221); background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; white-space: nowrap; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; border: none !important; background-position: 0px 0px !important; background-repeat: initial initial !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; border-width: 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; word-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; background-position: 0px 0px; background-repeat: initial initial; }
.CodeMirror-wrap pre { word-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right-width: 30px; border-right-style: solid; border-right-color: transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right-style: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right-style: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background-color: rgba(255, 255, 0, 0.4); background-position: initial initial; background-repeat: initial initial; }
@media print { 
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

/* open-sans-regular - latin-ext_latin */
  /* open-sans-italic - latin-ext_latin */
    /* open-sans-700 - latin-ext_latin */
    /* open-sans-700italic - latin-ext_latin */
  html {
    font-size: 16px;
}

body {
    font-family: "Open Sans","Clear Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}

@media only screen and (min-width: 1400px) {
	#write {
		max-width: 1024px;
	}
}

@media only screen and (min-width: 1800px) {
	#write {
		max-width: 1200px;
	}
}

#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}

@media print {
    .typora-export h1,
    .typora-export h2 {
        border-bottom: none;
        padding-bottom: initial;
    }

    .typora-export h1::after,
    .typora-export h2::after {
        border-top: 1px solid #eee;
        margin-top: .3em;
    }
}

h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border-top: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table tr th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table tr td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table tr th:first-child,
table tr td:first-child {
    margin-top: 0;
}
table tr th:last-child,
table tr td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    table,
    pre {
        page-break-inside: avoid;
    }
    pre {
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.md-lang {
    color: #b4654d;
}

.html-for-mac .context-menu {
    --item-hover-bg-color: #E6F0FE;
}

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}

 .typora-export li, .typora-export p, .typora-export,  .footnote-line {white-space: normal;} 
</style>
</head>
<body class='typora-export'>
<div id='write'  class=''><h1><a name="block-max-wandä¸€ï¼‰httpswwwamazingkoalacomcnlucenesearchlucene-840ï¼‰" class="md-header-anchor"></a><a href='https://www.amazingkoala.com.cn/Lucene/Search/'><span>block-max WANDï¼ˆä¸€ï¼‰</span></a><span>ï¼ˆLucene 8.4.0ï¼‰</span></h1><p>&emsp;&emsp;<span>ä»Lucene 8.0.0å¼€å§‹ï¼ŒLuceneæ–°å¢äº†block-max WANDï¼ˆWeak ANDï¼‰ç®—æ³•ï¼Œç”¨äºä¼˜åŒ–TopNçš„æŸ¥è¯¢ã€‚è¯¥ç®—æ³•çš„å¼•å…¥å¯è°“æ˜¯ä¸€æ³¢ä¸‰æŠ˜ï¼Œå¯ä»¥æŸ¥çœ‹ä½œè€…</span><a href='https://www.elastic.co/cn/blog/author/adrien-grand'><span>Adrien Grand</span></a><span>å¯¹è¯¥ç®—æ³•çš„ä»‹ç»ï¼š</span><a href='https://www.elastic.co/cn/blog/faster-retrieval-of-top-hits-in-elasticsearch-with-block-max-wand' target='_blank' class='url'>https://www.elastic.co/cn/blog/faster-retrieval-of-top-hits-in-elasticsearch-with-block-max-wand</a><span>ï¼Œä¸‹æ–‡ä¸­å°†å›´ç»•è¿™ç¯‡åšå®¢å±•å¼€ä»‹ç»ã€‚</span></p><h2><a name="topnæŸ¥è¯¢lucene-750ï¼‰" class="md-header-anchor"></a><span>TopNæŸ¥è¯¢ï¼ˆLucene 7.5.0ï¼‰</span></h2><p>&emsp;&emsp;<span>æˆ‘ä»¬å…ˆä»‹ç»ä¸‹åœ¨Lucene 8.0.0ä¹‹å‰ï¼Œå¦‚æœå®ç°TopNæŸ¥è¯¢ï¼Œå‡è®¾æœ‰ä»¥ä¸‹çš„æœç´¢æ¡ä»¶ï¼š</span></p><p><span>å›¾1ï¼š</span></p><p><img src="http://www.amazingkoala.com.cn/uploads/lucene/Search/block-max-WAND/block-max-WANDï¼ˆä¸€ï¼‰/1.png"></p><p>&emsp;&emsp;<span>å›¾1ä¸­ï¼Œç¬¬57è¡Œã€58è¡Œã€59è¡Œæè¿°äº†åªè¦æ–‡æ¡£ä¸­è‡³å°‘åŒ…å«ä¸€ä¸ªåŸŸåä¸º&quot;author&quot;ã€åŸŸå€¼ä¸º&quot;lily&quot;æˆ–è€…&quot;lucy&quot;çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆè¯¥æ–‡æ¡£å°±æ»¡è¶³æŸ¥è¯¢æ¡ä»¶ï¼›ç¬¬60è¡Œä»£ç æè¿°äº†ï¼Œæˆ‘ä»¬åªéœ€è¦æ ¹æ®æ–‡æ¡£æ‰“åˆ†è¿”å›Top3çš„ç»“æœã€‚</span></p><p>&emsp;&emsp;<span>å‡è®¾ç´¢å¼•ç›®å½•ä¸­ä¸€å…±æœ‰å…­ç¯‡æ–‡æ¡£ï¼Œæ¯ç¯‡æ–‡æ¡£çš„æ‰“åˆ†å¦‚ä¸‹æ‰€ç¤ºï¼š</span></p><p><span>è¡¨ä¸€ï¼š</span></p><figure><table><thead><tr><th style='text-align:center;' ><span>æ–‡æ¡£å·</span></th><th style='text-align:center;' ><span>Score1ï¼ˆlilyï¼‰</span></th><th><span>Score2ï¼ˆLucyï¼‰</span></th><th style='text-align:center;' ><span>æ–‡æ¡£æ‰“åˆ†å€¼ï¼ˆæ€»åˆ†ï¼‰</span></th></tr></thead><tbody><tr><td style='text-align:center;' ><span>0</span></td><td style='text-align:center;' ><span>0</span></td><td><span>0</span></td><td style='text-align:center;' ><span>0</span></td></tr><tr><td style='text-align:center;' ><span>1</span></td><td style='text-align:center;' ><span>5</span></td><td><span>4</span></td><td style='text-align:center;' ><span>9</span></td></tr><tr><td style='text-align:center;' ><span>2</span></td><td style='text-align:center;' ><span>6</span></td><td><span>7</span></td><td style='text-align:center;' ><span>13</span></td></tr><tr><td style='text-align:center;' ><span>3</span></td><td style='text-align:center;' ><span>3</span></td><td><span>8</span></td><td style='text-align:center;' ><span>11</span></td></tr><tr><td style='text-align:center;' ><span>4</span></td><td style='text-align:center;' ><span>2</span></td><td><span>6</span></td><td style='text-align:center;' ><span>8</span></td></tr><tr><td style='text-align:center;' ><span>5</span></td><td style='text-align:center;' ><span>3</span></td><td><span>3</span></td><td style='text-align:center;' ><span>6</span></td></tr></tbody></table></figure><p>&emsp;&emsp;<span>è¡¨ä¸€ä¸­ï¼ŒScore1æè¿°çš„æ˜¯åŸŸåä¸º&quot;author&quot;ã€åŸŸå€¼ä¸º&quot;lily&quot;å¯¹åº”çš„æ–‡æ¡£æ‰“åˆ†å€¼ï¼ŒåŒç†Score2ï¼Œæœ€ç»ˆæ–‡æ¡£çš„æ‰“åˆ†å€¼ä¸ºScore1è·ŸScore2çš„å’Œå€¼ã€‚</span></p><p>&emsp;&emsp;<span>ç»“åˆå›¾1è·Ÿè¡¨ä¸€å¯çŸ¥ï¼Œå½“æˆ‘ä»¬å¤„ç†åˆ°æ–‡æ¡£3ï¼Œå·²ç»è·å¾—äº†Top3çš„æœç´¢ç»“æœï¼Œå³æ–‡æ¡£1ã€æ–‡æ¡£2ã€æ–‡æ¡£3ã€‚ç„¶è€Œåœ¨Lucene 8.0.0ä¹‹å‰ï¼Œéœ€è¦å¯¹æ‰€æœ‰æ»¡è¶³å›¾1çš„æŸ¥è¯¢æ¡ä»¶çš„æ–‡æ¡£è¿›è¡Œæ‰“åˆ†ï¼Œç„¶ååœ¨Collectorä¸­ä½¿ç”¨æ ¹æ®scoreæ’åºçš„ä¼˜å…ˆçº§é˜Ÿåˆ—æ¥ç»´æŠ¤Top3ï¼ˆè§æ–‡ç« </span><a href='https://www.amazingkoala.com.cn/Lucene/Search/2019/0813/83.html'><span>Collectorï¼ˆäºŒï¼‰</span></a><span>ï¼‰ã€‚</span></p><p>&emsp;&emsp;<span>é€šè¿‡ä¸Šæ–‡çš„æè¿°æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œ åœ¨æŸ¥è¯¢è¿‡ç¨‹ä¸­ï¼Œä¸€äº›æ‰“åˆ†å€¼å¾ˆä½çš„æ–‡æ¡£å·ä¹Ÿè¢«å¤„ç†äº†ï¼Œé‚£æœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹å¼å¯ä»¥ä½¿å¾—å°½é‡è·³è¿‡é‚£äº›æ‰“åˆ†å€¼è¾ƒä½çš„æ–‡æ¡£ã€‚</span></p><h2><a name="maxscore" class="md-header-anchor"></a><span>MAXSCORE</span></h2><p>&emsp;&emsp;<span>åœ¨2012ï¼ŒStefan Pohlä»‹ç»äº†</span><a href='https://dl.acm.org/doi/10.1016/0306-4573%2895%2900020-H'><span>MaxScore</span></a><span>ç®—æ³•ï¼Œè¯¥ç®—æ³•å¤§æ„ä¸ºï¼šå¦‚æœæˆ‘ä»¬æƒ³æŸ¥æ‰¾ä¸€äº›æ–‡æ¡£ï¼ŒæŸ¥è¯¢æ¡ä»¶ä¸ºè¿™äº›æ–‡æ¡£ä¸­è‡³å°‘åŒ…å«&quot;elasticsearch&quot;æˆ–è€…&quot;kibana&quot;ï¼Œå¹¶ä¸”æ ¹æ®æ–‡æ¡£æ‰“åˆ†å€¼æ’åºè·å¾—Top10ã€‚å¦‚æœ</span><strong><span>èƒ½çŸ¥é“</span></strong><span>æ ¹æ®elasticsearchå…³é”®å­—çš„æ–‡æ¡£æ‰“åˆ†</span><strong><span>æœ€å¤§å€¼</span></strong><span>ä¸º3ã€æ ¹æ®kibanaå…³é”®å­—çš„æ–‡æ¡£æ‰“åˆ†æœ€å¤§å€¼ä¸º5ï¼Œå½“Top10ä¸­çš„ç¬¬10ç¯‡æ–‡æ¡£ï¼Œå³åˆ†æ•°æœ€ä½çš„é‚£ç¯‡æ–‡æ¡£çš„çš„æ‰“åˆ†å€¼ä¸º3æ—¶ï¼Œé‚£ä¹ˆåœ¨éšåçš„å¤„ç†ä¸­ï¼Œæˆ‘ä»¬å°±</span><strong><span>åªéœ€è¦</span></strong><span>å¤„ç†åŒ…å«&quot;kibana&quot;çš„æ–‡æ¡£é›†åˆï¼ˆå› ä¸ºé‚£äº›</span><strong><span>åª</span></strong><span>åŒ…å«&quot;elasticsearch&quot;çš„æ–‡æ¡£è‚¯å®šæ˜¯è¿›ä¸äº†Top10çš„ï¼‰ï¼Œå¹¶ä¸”åªéœ€è¦åˆ¤æ–­&quot;elasticsearch&quot;æ˜¯å¦åœ¨è¿™äº›æ–‡æ¡£é›†åˆä¸­ï¼Œå¦‚æœåœ¨é‚£ä¹ˆå‚ä¸æ‰“åˆ†ï¼Œå¹¶ä¸”å¯èƒ½æ›´æ–°Top10ã€‚</span></p><p>&emsp;&emsp;<span>å®ç°è¯¥ç®—æ³•éœ€è¦ä¸¤ä¸ªé›†åˆï¼š</span></p><ul><li><p><span>ç¬¬ä¸€ä¸ªé›†åˆï¼šè¯¥é›†åˆä¸­çš„ä»»æ„ä¸€ä¸ªtermï¼Œè¯¥termåœ¨æ–‡æ¡£ä¸­çš„æ‰“åˆ†æœ€é«˜å€¼æ¯”TopNä¸­çš„æœ€å°å€¼å¤§</span></p><ul><li><span>è¿™äº›termç”¨æ¥ç¡®å®šéå†çš„æ–‡æ¡£é›†åˆï¼Œå³åªéœ€è¦å¤„ç†åŒ…å«ç¬¬ä¸€ä¸ªé›†åˆä¸­çš„termçš„æ–‡æ¡£é›†åˆï¼Œä¾‹å¦‚ä¸Šæ–‡ä¸­çš„&quot;kibana&quot;</span></li></ul></li><li><p><span>ç¬¬äºŒä¸ªé›†åˆï¼šè¯¥é›†åˆä¸­çš„ä»»æ„ä¸€ä¸ªtermï¼Œè¯¥termåœ¨æ–‡æ¡£ä¸­çš„æ‰“åˆ†å€¼æœ€é«˜å€¼æ¯”TopNä¸­çš„æœ€å°å€¼å°</span></p><ul><li><span>è¿™äº›termç”¨æ¥å¯¹æ–‡æ¡£æ‰“åˆ†ï¼Œ ç”¨äºæ›´æ–°TopNä¸­çš„æœ€ä½åˆ†</span></li></ul></li></ul><p>&emsp;&emsp;<span>éšç€æ›´å¤šçš„æ–‡æ¡£çš„è¢«å¤„ç†ï¼ŒTopNä¸­æœ€ä½çš„æ–‡æ¡£æ‰“åˆ†å€¼å¦‚æœå˜é«˜äº†ï¼Œé‚£ä¹ˆå¯¹äºç¬¬ä¸€ä¸ªé›†åˆä¸­çš„æŸäº›termï¼Œå¦‚æœå®ƒä»¬åœ¨æ–‡æ¡£ä¸­çš„æ‰“åˆ†æœ€é«˜å€¼æ¯”TopNä¸­çš„æœ€å°å€¼å°ï¼Œå°±å°†å®ƒä»¬ä»ç¬¬ä¸€ä¸ªé›†åˆä¸­ç§»é™¤ï¼Œå¹¶æ·»åŠ åˆ°ç¬¬äºŒä¸ªé›†åˆä¸­ï¼Œè¿™æ ·ä½¿å¾—è¿›ä¸€æ­¥å‡å°‘å¾…å¤„ç†çš„æ–‡æ¡£æ•°é‡ã€‚</span></p><p>&emsp;&emsp;<span>è¯¥ç®—æ³•åœ¨Luceneä¸­æ— æ³•ç›´æ¥åº”ç”¨ï¼ŒåŸå› å¦‚ä¸‹æ‰€ç¤ºï¼š</span></p><pre spellcheck="false" class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" lang="text"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="text"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 35px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 27px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>1</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -27px; width: 27px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -27px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 18px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Stefan didn't only describe the algorithm. A couple days before the conference, he opened a ticket against Lucene, where he shared a prototype that he had built. This contribution was exciting but also challenging to integrate because we would need a way to compute the maximum score for every term in the index. In particular, scores depend on index statistics such as document frequency (total number of documents that contain a given term), so adding more documents to an index also changes the maximum score of postings in existing segments. Stefan's prototype had worked around this issue by requiring a rewrite of the index, which meant this optimization would only work for static indexes in practice. This is a limitation that we weren't happy with, but addressing it would require a lot of work.</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 176px;"></div><div class="CodeMirror-gutters" style="height: 176px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 26px;"></div></div></div></div></pre><p>&emsp;&emsp;<span>ä¸Šæ–‡ä¸­ï¼ŒLuceneå›¢é˜Ÿä¸æ¥å—è¿™ç§Stefanæå‡ºçš„issuesä¸»è¦æ˜¯è¯¥ç®—æ³•éœ€è¦åœ¨ç´¢å¼•ï¼ˆindexï¼‰é˜¶æ®µéœ€è¦è®¡ç®—æ‰€æœ‰termåœ¨æ‰€æœ‰åŒ…å«å®ƒçš„æ–‡æ¡£çš„æ–‡æ¡£æ‰“åˆ†å€¼ã€éœ€è¦å˜æ›´å·²ç»ç”Ÿæˆçš„æ®µæ–‡ä»¶ã€‚</span></p><p>&emsp;&emsp;<span>æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥çœ‹è¿™é‡Œçš„è¯¦ç»†ä»‹ç»ï¼š</span><a href='https://issues.apache.org/jira/browse/LUCENE-4100' target='_blank' class='url'>https://issues.apache.org/jira/browse/LUCENE-4100</a><span> ã€‚</span></p><h2><a name="wand" class="md-header-anchor"></a><span>WAND</span></h2><p>&emsp;&emsp;<span>WANDï¼ˆWeak ANDï¼‰åŒæ ·æ˜¯ä¸€ç§å¯ç”¨äºæŸ¥è¯¢TopNçš„ç®—æ³•ï¼Œç„¶è€Œè¯¥ç®—æ³•çš„å®ç°åŒLuceneä¸­çš„MinShouldMatchSumï¼ˆminShouldMatch &gt; 1ï¼‰æ˜¯ç›¸åŒçš„ã€‚æˆ‘ä»¬ç®€å•çš„ä»‹ç»ä¸‹MinShouldMatchSumçš„å®ç°æ–¹å¼ï¼Œä¾‹å¦‚ä»¥ä¸‹çš„æŸ¥è¯¢æ¡ä»¶å°†ä¼šä½¿ç”¨MinShouldMatchSumï¼š</span></p><p><span>å›¾2ï¼š</span></p><p><img src="http://www.amazingkoala.com.cn/uploads/lucene/Search/block-max-WAND/block-max-WANDï¼ˆä¸€ï¼‰/2.png"></p><p>&emsp;&emsp;<span>å›¾2ä¸­çš„æŸ¥è¯¢æ¡ä»¶æœ‰ä¸‰ä¸ªå­æŸ¥è¯¢ç»„æˆï¼Œæè¿°çš„æ˜¯ï¼šæ»¡è¶³æŸ¥è¯¢æ¡ä»¶çš„æ–‡æ¡£ä¸­å¿…é¡»è‡³å°‘åŸŸåä¸º&quot;author&quot;ï¼ŒåŸŸå€¼ä¸º&quot;lily&quot;ã€&quot;lucy&quot;ã€&quot;good&quot;ä¸­çš„ä»»æ„2ä¸ªï¼ˆå³ä»£ç 64è¡Œè®¾ç½®çš„minShouldMatchä¸º2ï¼‰ã€‚</span></p><p>&emsp;&emsp;<span>MinShouldMatchSumç®—æ³•å®ç°ä¸­æœ‰ä¸‰ä¸ªæ ¸å¿ƒçš„å®¹å™¨ï¼Œåˆ†åˆ«æ˜¯leadã€headã€tailï¼Œç”±äºæºç ä¸­å…³äºè¿™å‡ ä¸ªå®¹å™¨çš„æ³¨é‡Šï¼Œæˆ‘æ€ä¹ˆç¿»è¯‘éƒ½æ„Ÿè§‰ä¸è¡ŒğŸ˜…ï¼Œéšæ„è¿˜æ˜¯è´´ä¸ŠåŸæ–‡æœ‹å‹ä»¬è‡ªå·±å“ä¸‹ï¼š</span></p><p><span>å›¾3ï¼š</span></p><p><img src="http://www.amazingkoala.com.cn/uploads/lucene/Search/block-max-WAND/block-max-WANDï¼ˆä¸€ï¼‰/3.png"></p><p>&emsp;&emsp;<span>å›¾3ä¸­ï¼Œsub scorersä¸­çš„æ¯ä¸€ä¸ªscorerå¯ä»¥ç®€å•çš„ç†è§£ä¸ºæ»¡è¶³æŸä¸ªå­æŸ¥è¯¢çš„æ–‡æ¡£ä¿¡æ¯ï¼Œä»¥å›¾2ä¸ºä¾‹ï¼Œå¯¹äºä»£ç 61è¡Œçš„å­æŸ¥è¯¢ï¼Œä»–å¯¹åº”çš„scoreræè¿°çš„æ˜¯åŒ…å«åŸŸåä¸º&quot;author&quot;ã€åŸŸå€¼ä¸º&quot;lily&quot;çš„æ–‡æ¡£ä¿¡æ¯ã€‚</span></p><p>&emsp;&emsp;<span>åœ¨ç»§ç»­ä»‹ç»ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆç†è§£ä¸‹æºç ä¸­çš„è¿™ä¹ˆä¸€æ®µæ³¨é‡Šï¼š</span></p><p><span>å›¾4ï¼š</span></p><p><img src="http://www.amazingkoala.com.cn/uploads/lucene/Search/block-max-WAND/block-max-WANDï¼ˆä¸€ï¼‰/4.png"></p><p>&emsp;&emsp;<span>å›¾4çš„æºç ä¸­è¯´åˆ°ï¼Œå¦‚æœæœ‰nä¸ªSHOULDæŸ¥è¯¢ï¼ˆæ¯”å¦‚å›¾2ä¸­å°±æ˜¯3ä¸ªSHOULDæŸ¥è¯¢ï¼‰ï¼Œå…¶ä¸­minShouldMatchçš„å€¼ä¸ºmï¼Œé‚£ä¹ˆè¿™ç§æŸ¥è¯¢çš„å¼€é”€ä¸º n - m + 1ä¸ªscorerçš„éå†å¼€é”€ï¼Œå³æˆ‘ä»¬ä¸éœ€è¦éå†nä¸ªscorerçš„æ–‡æ¡£ä¿¡æ¯å°±å¯ä»¥è·å¾—æŸ¥è¯¢ç»“æœã€‚å¦å¤–å›¾4ä¸­çš„æŸä¸ªæŸ¥è¯¢çš„costæè¿°çš„æ˜¯æ»¡è¶³è¯¥æŸ¥è¯¢çš„æ–‡æ¡£æ•°é‡ã€‚</span></p><p>&emsp;&emsp;<span>å…¶æ¨å¯¼æ€æƒ³è¯´çš„æ˜¯ï¼ŒåŒ…å«nä¸ªå­æŸ¥è¯¢c1ï¼Œc2ï¼Œ... cnä¸”minShouldMatchä¸ºmçš„BooleanQueryï¼Œå®ƒå¯ä»¥è½¬åŒ–ä¸ºï¼š</span></p><pre spellcheck="false" class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" lang="text"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="text"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 35px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 27px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>1</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -27px; width: 27px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -27px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 18px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">(c1 AND (c2..cn | msm = m - 1)) OR (!c1 AND (c2..cn | msm = m))ï¼Œä¸¤å—éƒ¨åˆ†é€šè¿‡"æˆ–çš„å…³ç³»"ï¼ˆORï¼‰ç»„åˆè€Œæˆ</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="height: 22px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 26px;"></div></div></div></div></pre><ul><li><p><span>(c1 AND (c2..cn|msm=m-1)) ï¼šç¬¬ä¸€å—éƒ¨åˆ†æè¿°äº†æ»¡è¶³BooleanQueryæŸ¥è¯¢è¦æ±‚çš„æ–‡æ¡£ï¼Œå¦‚æœ</span><strong><span>æ»¡è¶³</span></strong><span>å­æŸ¥è¯¢c1ï¼Œé‚£ä¹ˆå¿…é¡»ï¼ˆANDï¼‰è‡³å°‘æ»¡è¶³c2..cnä¸­ä»»æ„m-1ä¸ªå­æŸ¥è¯¢</span></p></li><li><p><span>(!c1 AND (c2..cn|msm=m))ï¼šç¬¬äºŒå—éƒ¨åˆ†æè¿°äº†æ»¡è¶³BooleanQueryæŸ¥è¯¢è¦æ±‚çš„æ–‡æ¡£ï¼Œå¦‚æœ</span><strong><span>ä¸æ»¡è¶³</span></strong><span>å­æŸ¥è¯¢c1ï¼Œé‚£ä¹ˆå¿…é¡»ï¼ˆANDï¼‰è‡³å°‘æ»¡è¶³c2..cnä¸­ä»»æ„mä¸ªå­æŸ¥è¯¢</span></p><ul><li><span>æ ¹æ®ä¸¤å—éƒ¨åˆ†çš„ç»„åˆå…³ç³»ï¼ˆORï¼‰ï¼Œ</span><strong><span>BooleanQueryçš„å¼€é”€costæ˜¯è¿™ä¸¤éƒ¨åˆ†çš„å¼€é”€å’Œ</span></strong></li></ul></li><li><p><span>å‡è®¾å­æŸ¥è¯¢c1ï¼Œc2ï¼Œ... cnæ˜¯æŒ‰ç…§costï¼ˆä¸Šæ–‡ä¸­å·²ç»ä»‹ç»ï¼Œå³æ»¡è¶³å­æŸ¥è¯¢çš„æ–‡æ¡£æ•°é‡ï¼‰</span><strong><span>å‡åºæ’åº</span></strong><span>çš„ï¼Œé‚£ä¹ˆå¯¹äºç¬¬ä¸€å—éƒ¨åˆ†(c1 AND (c2..cn|msm=m-1)) ï¼Œç”±äºc1çš„costæœ€å°ï¼Œå¹¶ä¸”å¿…é¡»æ»¡è¶³c1çš„æŸ¥è¯¢æ¡ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦éå†æ»¡è¶³ciçš„æ–‡æ¡£é›†åˆå³å¯ï¼ˆè§æ–‡ç« </span><a href='https://www.amazingkoala.com.cn/Lucene/Search/2018/1218/27.html'><span>æ–‡æ¡£å·åˆå¹¶ï¼ˆMUSTï¼‰</span></a><span>ï¼‰ï¼Œ</span><strong><span>æ‰€ä»¥ç¬¬ä¸€å—éƒ¨åˆ†çš„å¼€é”€å°±æ˜¯c1çš„å¼€é”€</span></strong></p></li><li><p><span>å¯¹äºç¬¬äºŒå—éƒ¨åˆ†(!c1 AND (c2..cn|msm=m))ï¼Œå®ƒå¯ä»¥è½¬åŒ–ä¸ºä¸€ä¸ªåŒ…å« n -1 ä¸ªå­æŸ¥è¯¢c2ï¼Œ... cnä¸”minShouldMatchä¸ºmçš„</span><strong><span>å­BooleanQuery</span></strong><span>ï¼Œæ‰€ä»¥å®ƒåˆå¯ä»¥è½¬åŒ–ä¸º(c2 AND (c3..cn|msm=m-1)) OR (!c2 AND (c3..cn|msm=m))</span></p></li><li><p><span>å®Œæ•´çš„ç±»æ¨å¦‚ä¸‹æ‰€ç¤ºï¼š</span></p></li></ul><p><span>å›¾5ï¼š</span></p><p><img src="http://www.amazingkoala.com.cn/uploads/lucene/Search/block-max-WAND/block-max-WANDï¼ˆä¸€ï¼‰/5.png"></p><p>&emsp;&emsp;<span>å›¾5çš„æ¨å¯¼å›¾ä¸­çš„æœ€åä¸€ä¸ªæ­¥éª¤ä¸­çš„</span><span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="41.147ex" height="2.577ex" viewBox="0 -806.1 17716 1109.7" role="img" focusable="false" style="vertical-align: -0.705ex;"><defs><path stroke-width="0" id="E1-MJMAIN-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path stroke-width="0" id="E1-MJMAIN-21" d="M78 661Q78 682 96 699T138 716T180 700T199 661Q199 654 179 432T158 206Q156 198 139 198Q121 198 119 206Q118 209 98 431T78 661ZM79 61Q79 89 97 105T141 121Q164 119 181 104T198 61Q198 31 181 16T139 1Q114 1 97 16T79 61Z"></path><path stroke-width="0" id="E1-MJMATHI-63" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path><path stroke-width="0" id="E1-MJMATHI-6E" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path><path stroke-width="0" id="E1-MJMAIN-2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path><path stroke-width="0" id="E1-MJMATHI-6D" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path><path stroke-width="0" id="E1-MJMATHI-41" d="M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"></path><path stroke-width="0" id="E1-MJMATHI-4E" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path><path stroke-width="0" id="E1-MJMATHI-44" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path><path stroke-width="0" id="E1-MJMAIN-2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path><path stroke-width="0" id="E1-MJMAIN-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path stroke-width="0" id="E1-MJMAIN-2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z"></path><path stroke-width="0" id="E1-MJMAIN-7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path><path stroke-width="0" id="E1-MJMATHI-73" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path><path stroke-width="0" id="E1-MJMAIN-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path stroke-width="0" id="E1-MJMAIN-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E1-MJMAIN-28" x="0" y="0"></use><use xlink:href="#E1-MJMAIN-21" x="389" y="0"></use><g transform="translate(667,0)"><use xlink:href="#E1-MJMATHI-63" x="0" y="0"></use><g transform="translate(433,-150)"><use transform="scale(0.707)" xlink:href="#E1-MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E1-MJMAIN-2212" x="600" y="0"></use><use transform="scale(0.707)" xlink:href="#E1-MJMATHI-6D" x="1378" y="0"></use></g></g><use xlink:href="#E1-MJMATHI-41" x="3045" y="0"></use><use xlink:href="#E1-MJMATHI-4E" x="3795" y="0"></use><use xlink:href="#E1-MJMATHI-44" x="4683" y="0"></use><use xlink:href="#E1-MJMAIN-28" x="5761" y="0"></use><g transform="translate(6150,0)"><use xlink:href="#E1-MJMATHI-63" x="0" y="0"></use><g transform="translate(433,-150)"><use transform="scale(0.707)" xlink:href="#E1-MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E1-MJMAIN-2212" x="600" y="0"></use><use transform="scale(0.707)" xlink:href="#E1-MJMATHI-6D" x="1378" y="0"></use><use transform="scale(0.707)" xlink:href="#E1-MJMAIN-2B" x="2256" y="0"></use><use transform="scale(0.707)" xlink:href="#E1-MJMAIN-31" x="3034" y="0"></use></g></g><use xlink:href="#E1-MJMAIN-2E" x="9432" y="0"></use><use xlink:href="#E1-MJMAIN-2E" x="9876" y="0"></use><use xlink:href="#E1-MJMAIN-2E" x="10321" y="0"></use><g transform="translate(10766,0)"><use xlink:href="#E1-MJMATHI-63" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E1-MJMATHI-6E" x="612" y="-213"></use></g><use xlink:href="#E1-MJMAIN-7C" x="11973" y="0"></use><use xlink:href="#E1-MJMATHI-6D" x="12501" y="0"></use><use xlink:href="#E1-MJMATHI-73" x="13379" y="0"></use><use xlink:href="#E1-MJMATHI-6D" x="13848" y="0"></use><use xlink:href="#E1-MJMAIN-3D" x="15004" y="0"></use><use xlink:href="#E1-MJMATHI-6D" x="16059" y="0"></use><use xlink:href="#E1-MJMAIN-29" x="16937" y="0"></use><use xlink:href="#E1-MJMAIN-29" x="17326" y="0"></use></g></svg></span><script type="math/tex">(!c_{n-m}\ AND\ (c_{n-m+1}\ ... c_n\ |\ msm=m))</script><span>æè¿°çš„æ˜¯ä¸€ä¸ªåŒ…å« m ä¸ªå­æŸ¥è¯¢ä¸”minShouldMatchä¸ºmçš„å­BooleanQueryï¼Œé‚£ä¹ˆå¾ˆæ˜æ˜¾æˆ‘ä»¬åªè¦éå†ä»»æ„1ä¸ªå­æŸ¥è¯¢å¯¹åº”çš„æ–‡æ¡£é›†åˆå³å¯ã€‚</span></p><p>&emsp;&emsp;<span>æ•…æœ€åå¾—å‡ºæˆ‘ä»¬åªéœ€è¦å¤„ç† n - m + 1ä¸ªscorerã€‚</span></p><p>&emsp;&emsp;<span>åŸºäºè¿™ä¸ªç†è®ºå°±è®¾è®¡å‡ºäº†ä¸Šæ–‡ä¸­è¯´åˆ°çš„headè·Ÿtailï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸‹æºç ä¸­å¦‚ä½•å®šä¹‰è¿™ä¸¤ä¸ªå®¹å™¨ï¼š</span></p><p><span>å›¾6ï¼š</span></p><p><img src="http://www.amazingkoala.com.cn/uploads/lucene/Search/block-max-WAND/block-max-WANDï¼ˆä¸€ï¼‰/6.png"></p><p>&emsp;&emsp;<span>æˆ‘ä»¬ä¸ç”¨å…³å¿ƒDisiWrapperè·ŸDisiPriorityQueueæ˜¯ä»€ä¹ˆï¼Œç»Ÿç§°ä¸ºå®¹å™¨å³å¯ã€‚åˆå§‹åŒ–headæ—¶çš„å®¹å™¨å¤§å°å³ n - m + 1ï¼ˆscorers.size() - minShouldMatch + 1ï¼‰ï¼Œè€Œtailçš„å¤§å°ä¸º m - 1ï¼Œå³å‰©ä½™çš„scorerä¸¢åˆ°tailä¸­ï¼Œheadè·Ÿsizeä¸­çš„å…ƒç´ æ•°é‡å’Œä¸ºnã€‚</span></p><p>&emsp;&emsp;<span>ç»“åˆä¸Šæ–‡ä»‹ç»è·Ÿå›¾3çš„æ³¨é‡Šå°±å¯ä»¥æ˜ç™½äº†ï¼Œheadä¸­å­˜æ”¾äº†ç”¨äºéå†çš„scorersï¼ˆæ³¨é‡Šä¸­çš„in order to move quickly to the next candidateæ­£è¯´æ˜äº†è¿™ç‚¹ï¼‰ï¼Œè€Œleadä¸­å­˜æ”¾äº†headä¸­æ¯ä¸€ä¸ªscorerç›®å‰æ­£åœ¨å¤„ç†çš„ç›¸åŒçš„æ–‡æ¡£ä¿¡æ¯ï¼Œå¹¶è®¡ç®—ç›¸åŒçš„æ–‡æ¡£ä¿¡æ¯çš„æ•°é‡ï¼Œå¦‚æœè¯¥å€¼å¤§äºç­‰äºminShouldMatchçš„å€¼çš„è¯ï¼Œè¯´æ˜æ–‡æ¡£æ»¡è¶³æŸ¥è¯¢æ¡ä»¶ã€‚</span></p><p>&emsp;&emsp;<span>ä¸Šæ–‡çš„æè¿°åªæ˜¯ç²—ç•¥çš„ä»‹ç»äº†MinShouldMatchSumï¼Œåœ¨åé¢çš„æ–‡ç« ä¸­ä¼šè¯¦ç»†ä»‹ç»ã€‚åœ¨æœ¬ä¸­æˆ‘ä»¬åªéœ€è¦ç†è§£ä¸ºä»€ä¹ˆè¦è®¾è®¡headã€tailæ—¢å¯ä»¥ã€‚</span></p><h2><a name="block-max-wand" class="md-header-anchor"></a><span>block-max WAND</span></h2><p>&emsp;&emsp;<span>åŸºäºç¯‡å¹…ï¼Œå‰©ä½™çš„å†…å®¹å°†åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­å±•å¼€ã€‚</span></p><h2><a name="ç»“è¯­" class="md-header-anchor"></a><span>ç»“è¯­ </span></h2><p>&emsp;&emsp;<span>æ— </span></p><p><a href='http://www.amazingkoala.com.cn/attachment/Lucene/Search/block-max-WAND/block-max-WANDï¼ˆä¸€ï¼‰/block-max-WANDï¼ˆä¸€ï¼‰.zip'><span>ç‚¹å‡»</span></a><span>ä¸‹è½½é™„ä»¶</span></p><p>&nbsp;</p></div>
</body>
</html>